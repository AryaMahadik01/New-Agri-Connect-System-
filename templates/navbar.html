<header class="navbar">
  <div class="nav-container">
    <a href="{{ url_for('home') }}" class="logo">
      <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo" class="logo-icon">
      Agri-Connect
    </a>

    <nav class="nav-links">
      <a href="{{ url_for('home') }}">Home</a>
      <a href="{{ url_for('products') }}">Products</a>
      <a href="{{ url_for('seeds') }}">Seeds</a>
      <a href="{{ url_for('tools') }}">Tools</a>
      <a href="{{ url_for('pesticides') }}">Pesticides</a>
      <a href="{{ url_for('fertilizers') }}">Fertilizers</a>
      <a href="{{ url_for('view_cart') }}">Cart</a>
      <a href="{{ url_for('view_wishlist') }}">Wishlist</a>

      {% if session.get('admin') %}
        <!-- ✅ Admin is logged in -->
        <div class="nav-user-wrapper">
          <button id="navUserBtn" class="nav-user" aria-expanded="false">
            <span class="nav-avatar">A</span>
            <span class="nav-username">Admin</span>
            <svg class="nav-caret" width="12" height="12" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M5 7L10 12L15 7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>

          <div id="navUserDropdown" class="nav-user-dropdown" aria-hidden="true">
            <a href="{{ url_for('admin_dashboard') }}">Admin Panel</a>
            <a href="{{ url_for('logout') }}">Logout</a>
          </div>
        </div>

      {% elif session.get('user') %}
        <!-- ✅ Regular User is logged in -->
        <div class="nav-user-wrapper">
          <button id="navUserBtn" class="nav-user" aria-expanded="false">
            <span class="nav-avatar">{{ (session.get('name') or '')[:1]|upper }}</span>
            <span class="nav-username">{{ session.get('name') }}</span>
            <svg class="nav-caret" width="12" height="12" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M5 7L10 12L15 7" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>

          <div id="navUserDropdown" class="nav-user-dropdown" aria-hidden="true">
            <a href="{{ url_for('profile') }}">Profile</a>
            <a href="{{ url_for('logout') }}">Logout</a>
          </div>
        </div>

      {% else %}
        <!-- ❌ Not logged in -->
        <a href="{{ url_for('login') }}">Login</a>
        <a href="{{ url_for('register') }}">Register</a>
      {% endif %}
    </nav>
  </div>
</header>
