{% extends 'base.html' %}
{% block title %}My Orders - AgriConnect{% endblock %}

{% block content %}
<h1 style="text-align:center; margin-top:1rem; color: var(--secondary-green);">My Orders</h1>

<div style="max-width:1000px; margin:auto; margin-top:2rem;">
  {% if orders %}
    <table style="width:100%; border-collapse:collapse; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,0.1);">
      <thead style="background:var(--primary-green); color:white;">
        <tr>
          <th style="padding:10px;">Date</th>
          <th style="padding:10px;">Items</th>
          <th style="padding:10px;">Total</th>
          <th style="padding:10px;">Status</th>
          <th style="padding:10px;">Action</th>
        </tr>
      </thead>
      <tbody>
        {% for order in orders %}
        <tr>
          <td style="padding:10px; text-align:center;">{{ order.date }}</td>
          <td style="padding:10px;">
            <ul>
              {% for item in order.items %}
                <li>{{ item.name }} (x{{ item.quantity }})</li>
              {% endfor %}
            </ul>
          </td>
          <td style="padding:10px; text-align:center;">â‚¹{{ order.grandtotal }}</td>
          <td style="padding:10px; text-align:center;">{{ order.status }}</td>
          <td style="padding:10px; text-align:center;">
            <a class="btn" href="{{ url_for('user_order_details', order_id=order._id) }}">Details</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <a class="btn" href="{{ url_for('user_order_details', order_id=order._id) }}">Details</a>

  {% else %}
    <p style="text-align:center; margin-top:2rem;">You have not placed any orders yet.</p>
  {% endif %}
</div>
{% endblock %}
