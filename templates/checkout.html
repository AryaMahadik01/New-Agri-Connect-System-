{% extends 'base.html' %}

{% block title %}Checkout - AgriConnect{% endblock %}

{% block content %}
<h1 class="page-title" style="text-align:center; margin-top:1rem;">ðŸ›’ Checkout</h1>

<div class="products-container">
  {% for item in cart %}
    <div class="product-card">
      <img src="{{ url_for('static', filename=item.image) }}" alt="{{ item.name }}">
      <h3>{{ item.name }}</h3>
      <p>Price: â‚¹{{ item.price }}</p>

      <div class="quantity-control">
        <a href="{{ url_for('update_cart', cart_id=item._id, action='dec') }}" class="qty-btn">âž–</a>
        <span class="qty">{{ item.quantity }}</span>
        <a href="{{ url_for('update_cart', cart_id=item._id, action='inc') }}" class="qty-btn">âž•</a>
      </div>

      <p><strong>Total:</strong> â‚¹{{ item.price * item.quantity }}</p>
    </div>
  {% endfor %}
</div>

<div class="checkout-summary">
  <h2>ðŸ§¾ Bill Summary</h2>
  <p>Subtotal: â‚¹{{ subtotal }}</p>
  <p>Tax (5%): â‚¹{{ tax }}</p>
  <p><strong>Grand Total: â‚¹{{ grandtotal }}</strong></p>
</div>

<div class="checkout-payment">
  <h2>ðŸ’³ Payment Method</h2>
  <form method="POST" action="{{ url_for('place_order') }}">
    <label><input type="radio" name="payment" value="cod" checked> Cash on Delivery</label><br>
    <label><input type="radio" name="payment" value="upi"> UPI (Google Pay, PhonePe, etc.)</label><br>
    <label><input type="radio" name="payment" value="card"> Debit / Credit Card</label><br>

    <button type="submit" class="btn">âœ… Place Order</button>
  </form>
</div>
{% endblock %}
